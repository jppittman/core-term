
running 243 tests
test ansi::tests::it_should_abort_osc_on_esc_and_process_subsequent_commands ... ok
test ansi::tests::it_should_abort_csi_on_esc_and_process_subsequent_csi ... ok
test ansi::tests::it_should_abort_dcs_on_esc_and_process_subsequent_st ... ok
test ansi::tests::it_should_buffer_incomplete_csi_sequence ... ok
test ansi::tests::it_should_buffer_incomplete_dcs_sequence ... ok
test ansi::tests::it_should_buffer_incomplete_osc_sequence ... ok
test ansi::tests::it_should_complete_csi_if_final_byte_arrives_after_params ... ok
test ansi::tests::it_should_complete_dcs_if_terminator_arrives_after_string_fragment ... ok
test ansi::tests::it_should_complete_osc_if_terminator_arrives_after_string_fragment ... ok
test ansi::tests::it_should_include_c0_controls_within_dcs_data ... ok
test ansi::tests::it_should_process_a_simple_printable_string ... ok
test ansi::tests::it_should_process_apc_string_terminated_by_st ... ok
test ansi::tests::it_should_process_c0_bel ... ok
test ansi::tests::it_should_handle_fragmented_utf8_input_with_intermediate_finalization ... ok
test ansi::tests::it_should_process_csi_h_as_cup_1_1 ... ok
test ansi::tests::it_should_process_csi_sequence_fragmented_across_intermediate_bytes ... ok
test ansi::tests::it_should_process_csi_sequence_fragmented_across_param_bytes ... ok
test ansi::tests::it_should_process_csi_sequence_fragmented_after_esc ... ok
test ansi::tests::it_should_process_csi_set_cursor_style_decscusr ... ok
test ansi::tests::it_should_process_csi_sgr_reset ... ok
test ansi::tests::it_should_process_csi_sgr_set_foreground ... ok
test ansi::tests::it_should_process_csi_with_invalid_final_byte_as_error ... ok
test ansi::tests::it_should_process_dcs_string_terminated_by_st ... ok
test ansi::tests::it_should_process_dec_private_mode_bracketed_paste_2004 ... ok
test ansi::tests::it_should_process_dec_private_mode_focus_event_1004 ... ok
test ansi::tests::it_should_process_dec_private_mode_reset_12_att610_cursor_blink ... ok
test ansi::tests::it_should_process_dec_private_mode_reset_25_text_cursor_enable ... ok
test ansi::tests::it_should_process_dec_private_mode_set_25_text_cursor_enable ... ok
test ansi::tests::it_should_process_dec_private_mode_uncommon_7727 ... ok
test ansi::tests::it_should_process_empty_input_as_no_commands ... ok
test ansi::tests::it_should_process_csi_window_manipulation_t ... ok
test ansi::tests::it_should_process_osc_string_terminated_by_st ... ok
test ansi::tests::it_should_process_osc_string_terminated_by_bel ... ok
test ansi::tests::it_should_process_pm_string_terminated_by_st ... ok
test ansi::tests::it_should_process_st_in_ground_state ... ok
test ansi::tests::it_should_process_string_interspersed_with_fragmented_csi ... ok
test ansi::tests::it_should_terminate_osc_on_bel_and_process_subsequent_chars ... ok
test ansi::tests::it_should_process_various_dec_private_mouse_modes ... ok
test ansi::tests::unicode_wide_tests::it_should_decode_valid_utf8_containing_c1_byte_value_for_ind_and_then_char ... ok
test ansi::tests::unicode_wide_tests::it_should_decode_valid_utf8_containing_c1_byte_value_for_pad_and_then_char ... ok
test ansi::tests::unicode_wide_tests::it_should_handle_c0_bel_and_char_after_interrupted_utf8 ... ok
test ansi::tests::unicode_wide_tests::it_should_handle_c0_etx_and_esc_sequence_after_interrupted_utf8 ... ok
test ansi::tests::unicode_wide_tests::it_should_handle_c0_nul_and_print_after_interrupted_utf8 ... ok
test ansi::tests::unicode_wide_tests::it_should_handle_c1_st_and_char_after_interrupted_4_byte_utf8 ... ok
test ansi::tests::unicode_wide_tests::it_should_handle_complex_interruptions_and_valid_chars_in_sequence ... ok
test ansi::tests::unicode_wide_tests::it_should_handle_del_interrupting_utf8_then_char ... ok
test ansi::tests::unicode_wide_tests::it_should_handle_double_utf8_interruption_by_esc_then_c0 ... ok
test ansi::tests::unicode_wide_tests::it_should_handle_esc_ris_after_3_byte_utf8_interrupted_at_2nd_byte ... ok
test ansi::tests::unicode_wide_tests::it_should_handle_esc_c_ris_after_interrupted_utf8 ... ok
test ansi::tests::unicode_wide_tests::it_should_handle_esc_ris_after_4_byte_utf8_interrupted_at_1st_byte ... ok
test ansi::tests::unicode_wide_tests::it_should_handle_esc_ris_after_4_byte_utf8_interrupted_at_3rd_byte ... ok
test ansi::tests::unicode_wide_tests::it_should_handle_invalid_utf8_continuation_followed_by_chars ... ok
test ansi::tests::unicode_wide_tests::it_should_process_esc_c_ris_correctly ... ok
test ansi::tests::unicode_wide_tests::it_should_process_bel_correctly ... ok
test ansi::tests::unicode_wide_tests::it_should_replace_incomplete_3_of_4_byte_utf8_at_stream_end ... ok
test orchestrator::tests::test_render_empty_screen_with_cursor ... ok
test ansi::tests::unicode_wide_tests::it_should_handle_overlong_utf8_sequence_c1_af_as_replacement_chars ... ok
test orchestrator::tests::test_render_dirty_line_only ... ok
test orchestrator::tests::test_render_simple_text ... ok
test platform::backends::x11::event::tests::test_xkeysym_to_keysymbol_char_input ... ok
test platform::backends::x11::event::tests::test_xkeysym_to_keysymbol_keypad_numbers_with_text ... ok
test platform::backends::x11::connection::tests::test_get_event_fd_on_closed_display ... ok
test platform::backends::x11::event::tests::test_xkeysym_to_keysymbol_special_keys ... ok
test platform::backends::x11::connection::tests::test_cleanup_idempotency ... ok
test platform::backends::x11::event::tests::test_xkeysym_to_keysymbol_keypad_symbols_no_text ... ok
test platform::os::pty_tests::test_pty_resize_successful ... ok
test platform::os::pty_tests::test_pty_spawn_invalid_command ... ok
test renderer::tests::test_dirty_line_processing ... ok
test renderer::tests::test_render_empty_screen_with_cursor ... ok
test renderer::tests::test_render_simple_text ... ok
test term::core_tests::it_should_clamp_cursor_at_bottom_line_on_csi_cud_if_move_is_too_far ... ok
test term::core_tests::it_should_clamp_cursor_at_first_col_on_csi_cub_if_move_is_too_far ... ok
test term::core_tests::it_should_clamp_cursor_at_last_col_on_csi_cha_if_move_is_too_far ... ok
test term::core_tests::it_should_clamp_cursor_at_last_col_on_csi_cuf_if_move_is_too_far ... ok
test term::core_tests::it_should_clamp_cursor_at_start_of_first_line_on_csi_cpl_if_move_is_too_far ... ok
test term::core_tests::it_should_clamp_cursor_at_start_of_last_line_on_csi_cnl_if_move_is_too_far ... ok
test term::core_tests::it_should_clamp_cursor_at_top_line_on_csi_cuu_if_move_is_too_far ... ok
test term::core_tests::it_should_clamp_cursor_on_csi_cup_if_params_are_out_of_bounds ... ok
test term::core_tests::it_should_clamp_cursor_to_new_bottom_right_if_cursor_was_beyond_after_shrink ... ok
test term::core_tests::it_should_do_nothing_visible_on_escape_character ... ok
test term::core_tests::it_should_enable_and_disable_autowrap_mode_on_decawm ... ok
test term::core_tests::it_should_erase_entire_line_on_csi_2k ... ok
test term::core_tests::it_should_erase_entire_screen_and_scrollback_on_csi_3j ... ok
test term::core_tests::it_should_erase_entire_screen_on_csi_2j ... ok
test term::core_tests::it_should_erase_from_cursor_to_beginning_of_line_on_csi_1k ... ok
test term::core_tests::it_should_erase_from_cursor_to_beginning_of_screen_on_csi_1j ... ok
test term::core_tests::it_should_erase_from_cursor_to_end_of_line_on_csi_0k_or_csi_k ... ok
test term::core_tests::it_should_erase_from_cursor_to_end_of_screen_on_csi_0j_or_csi_j ... ok
test term::core_tests::it_should_handle_csi_cup_with_origin_mode_decom ... ok
test term::core_tests::it_should_handle_empty_title_string_in_osc_sequence ... ok
test term::core_tests::it_should_handle_mixed_ascii_and_multibyte_unicode_characters ... ok
test term::core_tests::it_should_handle_osc_sequence_without_semicolon_for_title_setting_if_supported ... ok
test term::core_tests::it_should_handle_resize_with_content_and_cursor_at_edges ... ok
test term::core_tests::it_should_ignore_osc_sequences_for_unsupported_ps_codes_for_title ... ok
test term::core_tests::it_should_move_cursor_back_by_1_col_on_csi_cub_with_param_0_or_1 ... ok
test term::core_tests::it_should_move_cursor_back_by_n_cols_on_csi_cub ... ok
test term::core_tests::it_should_move_cursor_down_and_to_col_0_on_line_feed_if_lnm_is_on ... ok
test term::core_tests::it_should_move_cursor_down_by_1_line_on_csi_cud_with_param_0_or_1 ... ok
test term::core_tests::it_should_move_cursor_down_by_n_lines_on_csi_cud ... ok
test term::core_tests::it_should_move_cursor_down_keeping_column_on_line_feed_if_lnm_is_off ... ok
test term::core_tests::it_should_move_cursor_forward_by_1_col_on_csi_cuf_with_param_0_or_1 ... ok
test term::core_tests::it_should_move_cursor_forward_by_n_cols_on_csi_cuf ... ok
test term::core_tests::it_should_move_cursor_left_on_backspace ... ok
test term::core_tests::it_should_move_cursor_to_col_0_on_carriage_return ... ok
test term::core_tests::it_should_move_cursor_to_col_1_on_csi_cha_with_param_0_or_1 ... ok
test term::core_tests::it_should_move_cursor_to_col_n_on_csi_cha ... ok
test term::core_tests::it_should_move_cursor_to_last_column_on_horizontal_tab_if_no_more_tab_stops ... ok
test term::core_tests::it_should_move_cursor_to_next_tab_stop_on_horizontal_tab ... ok
test term::core_tests::it_should_move_cursor_to_origin_on_csi_cup_with_params_0_0_or_1_1_or_missing ... ok
test term::core_tests::it_should_move_cursor_to_row_n_col_m_on_csi_cup ... ok
test term::core_tests::it_should_move_cursor_to_start_of_next_1_line_on_csi_cnl_with_param_0_or_1 ... ok
test term::core_tests::it_should_move_cursor_to_start_of_next_n_lines_on_csi_cnl ... ok
test term::core_tests::it_should_move_cursor_to_start_of_previous_1_line_on_csi_cpl_with_param_0_or_1 ... ok
test term::core_tests::it_should_move_cursor_to_start_of_previous_n_lines_on_csi_cpl ... ok
test term::core_tests::it_should_move_cursor_up_by_1_line_on_csi_cuu_with_param_0_or_1 ... ok
test term::core_tests::it_should_move_cursor_up_by_n_lines_on_csi_cuu ... ok
test term::core_tests::it_should_not_change_cursor_position_after_ed_or_el ... ok
test term::core_tests::it_should_not_change_cursor_position_on_csi_s_or_csi_t ... ok
test term::core_tests::it_should_not_print_second_half_of_wide_char_if_at_edge_and_no_wrap_mode_or_similar_logic ... ok
test term::core_tests::it_should_not_wrap_cursor_on_backspace_at_start_of_line ... ok
test term::core_tests::it_should_overwrite_existing_characters ... ok
test term::core_tests::it_should_overwrite_first_half_of_wide_char_with_ascii ... ok
test term::core_tests::it_should_overwrite_second_half_of_wide_char_with_ascii ... ok
test term::core_tests::it_should_preserve_scrollback_on_resize ... ok
test term::core_tests::it_should_print_a_single_ascii_character ... ok
test term::core_tests::it_should_print_a_single_multibyte_unicode_character ... ok
test term::core_tests::it_should_print_ascii_over_wide_char_that_straddles_line_end_after_wrap ... FAILED
test term::core_tests::it_should_print_multiple_ascii_characters_on_one_line ... ok
test term::core_tests::it_should_print_multiple_multibyte_unicode_characters ... ok
test term::core_tests::it_should_reset_all_attributes_on_sgr_0 ... ok
test term::core_tests::it_should_reset_background_color_on_sgr_49 ... ok
test term::core_tests::it_should_reset_foreground_color_on_sgr_39 ... ok
test term::core_tests::it_should_resize_to_larger_dimensions_preserving_content_and_cursor ... ok
test term::core_tests::it_should_resize_to_smaller_dimensions_truncating_content_and_clamping_cursor ... ok
test term::core_tests::it_should_scroll_and_move_to_col_0_on_line_feed_at_bottom_if_lnm_is_on ... ok
test term::core_tests::it_should_scroll_down_entire_screen_by_1_line_on_csi_t_with_param_0_or_1 ... ok
test term::core_tests::it_should_scroll_down_entire_screen_by_n_lines_on_csi_t ... ok
test term::core_tests::it_should_scroll_down_within_scrolling_region_on_csi_t ... ok
test term::core_tests::it_should_scroll_up_and_move_cursor_down_keeping_column_on_line_feed_at_bottom_if_lnm_is_off ... ok
test term::core_tests::it_should_scroll_up_entire_screen_by_1_line_on_csi_s_with_param_0_or_1 ... ok
test term::core_tests::it_should_scroll_up_entire_screen_by_n_lines_on_csi_s ... ok
test term::core_tests::it_should_scroll_up_within_scrolling_region_on_csi_s ... ok
test term::core_tests::it_should_set_basic_ansi_background_colors_sgr_40_47 ... ok
test term::core_tests::it_should_set_basic_ansi_foreground_colors_sgr_30_37 ... ok
test term::core_tests::it_should_set_bold_on_sgr_1_and_reset_on_sgr_22 ... ok
test term::core_tests::it_should_set_bright_ansi_background_colors_sgr_100_107 ... ok
test term::core_tests::it_should_set_bright_ansi_foreground_colors_sgr_90_97 ... ok
test term::core_tests::it_should_set_faint_on_sgr_2_and_reset_on_sgr_22 ... ok
test term::core_tests::it_should_set_indexed_background_color_sgr_48_5_n ... ok
test term::core_tests::it_should_set_indexed_foreground_color_sgr_38_5_n ... ok
test term::core_tests::it_should_set_inverse_on_sgr_7_and_reset_on_sgr_27 ... ok
test term::core_tests::it_should_set_italic_on_sgr_3_and_reset_on_sgr_23 ... ok
test term::core_tests::it_should_set_multiple_attributes_in_one_sgr_sequence ... ok
test term::core_tests::it_should_set_rgb_background_color_sgr_48_2_r_g_b ... ok
test term::core_tests::it_should_set_rgb_foreground_color_sgr_38_2_r_g_b ... ok
test term::core_tests::it_should_set_underline_on_sgr_4_and_reset_on_sgr_24 ... ok
test term::core_tests::it_should_set_window_title_on_osc_0_sequence ... ok
test term::core_tests::it_should_set_window_title_on_osc_2_sequence ... ok
test term::core_tests::it_should_show_and_hide_cursor_on_dectcem ... ok
test term::core_tests::it_should_switch_to_alternate_screen_buffer_and_back_on_csi_1049 ... ok
test term::core_tests::it_should_wrap_character_to_next_line_when_end_of_line_is_reached ... ok
test term::core_tests::it_should_wrap_wide_character_correctly ... ok
test term::emulator::input_handler::tests::test_paste_text_action_bracketed_off ... ok
test term::emulator::input_handler::tests::test_paste_text_action_bracketed_on ... ok
test term::screen::tests::test_clear_selection ... ok
test term::screen::tests::test_end_selection ... ok
test term::screen::tests::test_get_selected_text_normal_multi_line ... ok
test term::screen::tests::test_get_selected_text_normal_multi_line_reversed_points ... ok
test term::screen::tests::test_get_selected_text_normal_no_selection ... ok
test term::screen::tests::test_get_selected_text_normal_single_char ... ok
test term::screen::tests::test_get_selected_text_normal_single_line_full ... ok
test term::screen::tests::test_get_selected_text_normal_single_line_partial ... ok
test term::screen::tests::test_get_selected_text_normal_trailing_spaces_behavior ... ok
test term::screen::tests::test_is_selected_normal_multi_line ... ok
test term::screen::tests::test_is_selected_normal_multi_line_selection_ends_at_width_minus_1 ... ok
test term::screen::tests::test_is_selected_normal_no_selection ... ok
test term::screen::tests::test_is_selected_normal_reverse_selection_points ... ok
test term::screen::tests::test_is_selected_normal_single_line ... ok
test term::screen::tests::test_is_selected_out_of_bounds_point ... ok
test term::screen::tests::test_is_selected_point_equals_start_or_end ... ok
test term::screen::tests::test_selection_cleared_on_resize ... ok
test term::screen::tests::test_selection_default_state ... ok
test term::screen::tests::test_start_selection ... ok
test term::screen::tests::test_update_selection ... ok
test term::screen::tests::test_update_selection_marks_old_and_new_lines_dirty ... ok
test term::screen::tests::test_update_selection_when_not_active ... ok
test term::tests::get_selected_text_tests::test_get_selected_text_empty_cells_within_grid ... ok
test term::tests::get_selected_text_tests::test_get_selected_text_line_boundaries ... ok
test term::tests::get_selected_text_tests::test_get_selected_text_multi_line ... ok
test term::tests::get_selected_text_tests::test_get_selected_text_multi_line_full_lines ... ok
test term::tests::get_selected_text_tests::test_get_selected_text_no_selection ... ok
test term::tests::get_selected_text_tests::test_get_selected_text_reversed_points ... ok
test term::tests::get_selected_text_tests::test_get_selected_text_selection_beyond_line_length ... ok
test term::tests::get_selected_text_tests::test_get_selected_text_single_line ... ok
test term::tests::get_selected_text_tests::test_get_selected_text_single_line_trailing_spaces_in_selection ... ok
test term::tests::paste_text_tests::test_paste_text_bracketed_off_causes_wrap ... ok
test term::tests::paste_text_tests::test_paste_text_bracketed_off_simple ... ok
test term::tests::paste_text_tests::test_paste_text_bracketed_off_with_newline ... ok
test term::tests::paste_text_tests::test_paste_text_bracketed_on_logs_warning_processes_chars ... ok
test term::tests::selection_logic_tests::test_apply_selection_clear_click_and_drag ... ok
test term::tests::selection_logic_tests::test_clear_selection ... ok
test term::tests::selection_logic_tests::test_extend_selection_active_and_inactive ... ok
test term::tests::selection_logic_tests::test_start_selection ... ok
test term::tests::test_carriage_return_input ... ok
test term::tests::test_csi_cursor_forward_cuf ... ok
test term::tests::test_csi_ed_clear_below_csi_j ... FAILED
test term::tests::test_csi_sgr_fg_color ... ok
test term::tests::test_initiate_copy_block_selection ... ok
test term::tests::test_initiate_copy_no_selection ... ok
test term::tests::test_initiate_copy_with_selection ... ok
test term::tests::test_key_event_arrow_up ... ok
test term::tests::test_key_event_printable_char ... ok
test term::tests::test_lf_at_bottom_of_partial_scrolling_region_no_origin_mode ... ok
test term::tests::test_mode_show_cursor_dectcem ... ok
test term::tests::test_mouse_drag_updates_selection ... ok
test term::tests::test_mouse_press_starts_selection ... ok
test term::tests::test_mouse_release_ends_selection_activity ... ok
test term::tests::test_new_mouse_press_clears_old_selection ... ok
test term::tests::test_newline_input ... ok
test term::tests::test_osc_set_window_title ... ok
test term::tests::test_primary_device_attributes_response ... ok
test term::tests::test_ps1_multiline_exact_fill_then_scroll_on_final_lf ... FAILED
test term::tests::test_ps1_multiline_prompt_at_bottom_causes_scroll ... FAILED
test term::tests::test_ps1_multiline_prompt_ends_on_last_line_no_scroll_by_prompt ... FAILED
test term::tests::test_ps1_multiline_prompt_last_line_fills_screen_then_input ... FAILED
test term::tests::test_ps1_multiline_with_sgr_at_bottom_scrolls ... FAILED
test term::tests::test_ps1_prompt_causes_multiple_scrolls ... FAILED
test term::tests::test_ps1_prompt_with_internal_wrapping_and_scrolling ... FAILED
test term::tests::test_resize_larger ... FAILED
test term::tests::test_resize_smaller_content_truncation ... FAILED
test term::tests::test_selection_coordinates_adjust_on_scroll ... ok
test term::tests::test_selection_on_alt_screen_then_exit ... ok
test term::tests::test_simple_char_input ... ok
test term::tests::test_snapshot_with_selection ... ok
test term::unicode::tests::test_ascii_char_width ... ok
test term::unicode::tests::test_box_drawing_char_widths ... ok
test term::unicode::tests::test_cjk_wide_char_widths ... ok
test term::unicode::tests::test_control_char_widths ... ok
test term::unicode::tests::test_locale_initializer_called ... ok
test term::unicode::tests::test_zero_width_chars ... ok
test platform::os::pty_tests::test_pty_read_write_interaction ... ok
test platform::os::pty_tests::test_pty_spawn_successful ... ok
test platform::os::pty_tests::test_pty_child_termination_on_drop ... ok

failures:

---- term::core_tests::it_should_print_ascii_over_wide_char_that_straddles_line_end_after_wrap stdout ----
thread 'term::core_tests::it_should_print_ascii_over_wide_char_that_straddles_line_end_after_wrap' panicked at src/term/core_tests.rs:383:5:
assertion failed: !glyph_at_0_0.attr.flags.contains(crate::glyph::AttrFlags::WIDE_CHAR_PRIMARY)
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- term::tests::test_csi_ed_clear_below_csi_j stdout ----
thread 'term::tests::test_csi_ed_clear_below_csi_j' panicked at src/term/tests.rs:101:13:
assertion `left == right` failed: Char mismatch at (row 0, snapshot_col 0). Expected 'A', got ' '. Full expected row: 'ABC', Full actual row: 'Some([Glyph { c: ' ', attr: Attributes { fg: Default, bg: Default, flags: AttrFlags(0x0) } }, Glyph { c: ' ', attr: Attributes { fg: Default, bg: Default, flags: AttrFlags(0x0) } }, Glyph { c: 'D', attr: Attributes { fg: Default, bg: Default, flags: AttrFlags(0x0) } }])'
  left: ' '
 right: 'A'

---- term::tests::test_ps1_multiline_exact_fill_then_scroll_on_final_lf stdout ----
thread 'term::tests::test_ps1_multiline_exact_fill_then_scroll_on_final_lf' panicked at src/term/tests.rs:101:13:
assertion `left == right` failed: Char mismatch at (row 0, snapshot_col 0). Expected 'P', got '2'. Full expected row: 'P2 ', Full actual row: 'Some([Glyph { c: '2', attr: Attributes { fg: Default, bg: Default, flags: AttrFlags(0x0) } }, Glyph { c: ' ', attr: Attributes { fg: Default, bg: Default, flags: AttrFlags(0x0) } }, Glyph { c: ' ', attr: Attributes { fg: Default, bg: Default, flags: AttrFlags(0x0) } }])'
  left: '2'
 right: 'P'

---- term::tests::test_ps1_multiline_prompt_at_bottom_causes_scroll stdout ----
thread 'term::tests::test_ps1_multiline_prompt_at_bottom_causes_scroll' panicked at src/term/tests.rs:101:13:
assertion `left == right` failed: Char mismatch at (row 0, snapshot_col 0). Expected 'B', got ' '. Full expected row: 'BBBBB', Full actual row: 'Some([Glyph { c: ' ', attr: Attributes { fg: Default, bg: Default, flags: AttrFlags(0x0) } }, Glyph { c: ' ', attr: Attributes { fg: Default, bg: Default, flags: AttrFlags(0x0) } }, Glyph { c: ' ', attr: Attributes { fg: Default, bg: Default, flags: AttrFlags(0x0) } }, Glyph { c: ' ', attr: Attributes { fg: Default, bg: Default, flags: AttrFlags(0x0) } }, Glyph { c: 'P', attr: Attributes { fg: Default, bg: Default, flags: AttrFlags(0x0) } }])'
  left: ' '
 right: 'B'

---- term::tests::test_ps1_multiline_prompt_ends_on_last_line_no_scroll_by_prompt stdout ----
thread 'term::tests::test_ps1_multiline_prompt_ends_on_last_line_no_scroll_by_prompt' panicked at src/term/tests.rs:101:13:
assertion `left == right` failed: Char mismatch at (row 0, snapshot_col 0). Expected 'A', got ' '. Full expected row: 'AAAAA', Full actual row: 'Some([Glyph { c: ' ', attr: Attributes { fg: Default, bg: Default, flags: AttrFlags(0x0) } }, Glyph { c: ' ', attr: Attributes { fg: Default, bg: Default, flags: AttrFlags(0x0) } }, Glyph { c: ' ', attr: Attributes { fg: Default, bg: Default, flags: AttrFlags(0x0) } }, Glyph { c: ' ', attr: Attributes { fg: Default, bg: Default, flags: AttrFlags(0x0) } }, Glyph { c: 'L', attr: Attributes { fg: Default, bg: Default, flags: AttrFlags(0x0) } }])'
  left: ' '
 right: 'A'

---- term::tests::test_ps1_multiline_prompt_last_line_fills_screen_then_input stdout ----
thread 'term::tests::test_ps1_multiline_prompt_last_line_fills_screen_then_input' panicked at src/term/tests.rs:101:13:
assertion `left == right` failed: Char mismatch at (row 0, snapshot_col 0). Expected 'B', got ' '. Full expected row: 'B  ', Full actual row: 'Some([Glyph { c: ' ', attr: Attributes { fg: Default, bg: Default, flags: AttrFlags(0x0) } }, Glyph { c: ' ', attr: Attributes { fg: Default, bg: Default, flags: AttrFlags(0x0) } }, Glyph { c: 'C', attr: Attributes { fg: Default, bg: Default, flags: AttrFlags(0x0) } }])'
  left: ' '
 right: 'B'

---- term::tests::test_ps1_multiline_with_sgr_at_bottom_scrolls stdout ----
thread 'term::tests::test_ps1_multiline_with_sgr_at_bottom_scrolls' panicked at src/term/tests.rs:101:13:
assertion `left == right` failed: Char mismatch at (row 0, snapshot_col 0). Expected 'P', got '1'. Full expected row: 'P1   ', Full actual row: 'Some([Glyph { c: '1', attr: Attributes { fg: Named(Red), bg: Default, flags: AttrFlags(0x0) } }, Glyph { c: ' ', attr: Attributes { fg: Named(Red), bg: Default, flags: AttrFlags(0x0) } }, Glyph { c: ' ', attr: Attributes { fg: Named(Red), bg: Default, flags: AttrFlags(0x0) } }, Glyph { c: ' ', attr: Attributes { fg: Named(Red), bg: Default, flags: AttrFlags(0x0) } }, Glyph { c: ' ', attr: Attributes { fg: Named(Red), bg: Default, flags: AttrFlags(0x0) } }])'
  left: '1'
 right: 'P'

---- term::tests::test_ps1_prompt_causes_multiple_scrolls stdout ----
thread 'term::tests::test_ps1_prompt_causes_multiple_scrolls' panicked at src/term/tests.rs:101:13:
assertion `left == right` failed: Char mismatch at (row 0, snapshot_col 0). Expected 'L', got ' '. Full expected row: 'L2 ', Full actual row: 'Some([Glyph { c: ' ', attr: Attributes { fg: Default, bg: Default, flags: AttrFlags(0x0) } }, Glyph { c: ' ', attr: Attributes { fg: Default, bg: Default, flags: AttrFlags(0x0) } }, Glyph { c: '$', attr: Attributes { fg: Default, bg: Default, flags: AttrFlags(0x0) } }])'
  left: ' '
 right: 'L'

---- term::tests::test_ps1_prompt_with_internal_wrapping_and_scrolling stdout ----
thread 'term::tests::test_ps1_prompt_with_internal_wrapping_and_scrolling' panicked at src/term/tests.rs:101:13:
assertion `left == right` failed: Char mismatch at (row 0, snapshot_col 0). Expected 'o', got ' '. Full expected row: 'ong', Full actual row: 'Some([Glyph { c: ' ', attr: Attributes { fg: Default, bg: Default, flags: AttrFlags(0x0) } }, Glyph { c: ' ', attr: Attributes { fg: Default, bg: Default, flags: AttrFlags(0x0) } }, Glyph { c: 'L', attr: Attributes { fg: Default, bg: Default, flags: AttrFlags(0x0) } }])'
  left: ' '
 right: 'o'

---- term::tests::test_resize_larger stdout ----
[2025-06-02T12:28:14Z WARN  core_term::term::screen] Screen resize from 5x2 (scrollback: 100) to 10x4 (scrollback: 100)
thread 'term::tests::test_resize_larger' panicked at src/term/tests.rs:101:13:
assertion `left == right` failed: Char mismatch at (row 0, snapshot_col 0). Expected '1', got ' '. Full expected row: '12345     ', Full actual row: 'Some([Glyph { c: ' ', attr: Attributes { fg: Default, bg: Default, flags: AttrFlags(0x0) } }, Glyph { c: ' ', attr: Attributes { fg: Default, bg: Default, flags: AttrFlags(0x0) } }, Glyph { c: ' ', attr: Attributes { fg: Default, bg: Default, flags: AttrFlags(0x0) } }, Glyph { c: ' ', attr: Attributes { fg: Default, bg: Default, flags: AttrFlags(0x0) } }, Glyph { c: 'A', attr: Attributes { fg: Default, bg: Default, flags: AttrFlags(0x0) } }, Glyph { c: ' ', attr: Attributes { fg: Default, bg: Default, flags: AttrFlags(0x0) } }, Glyph { c: ' ', attr: Attributes { fg: Default, bg: Default, flags: AttrFlags(0x0) } }, Glyph { c: ' ', attr: Attributes { fg: Default, bg: Default, flags: AttrFlags(0x0) } }, Glyph { c: ' ', attr: Attributes { fg: Default, bg: Default, flags: AttrFlags(0x0) } }, Glyph { c: ' ', attr: Attributes { fg: Default, bg: Default, flags: AttrFlags(0x0) } }])'
  left: ' '
 right: '1'

---- term::tests::test_resize_smaller_content_truncation stdout ----
[2025-06-02T12:28:14Z WARN  core_term::term::screen] Screen resize from 5x2 (scrollback: 100) to 3x1 (scrollback: 100)
thread 'term::tests::test_resize_smaller_content_truncation' panicked at src/term/tests.rs:165:9:
assertion `left == right` failed: Cursor col mismatch
  left: 2
 right: 1


failures:
    term::core_tests::it_should_print_ascii_over_wide_char_that_straddles_line_end_after_wrap
    term::tests::test_csi_ed_clear_below_csi_j
    term::tests::test_ps1_multiline_exact_fill_then_scroll_on_final_lf
    term::tests::test_ps1_multiline_prompt_at_bottom_causes_scroll
    term::tests::test_ps1_multiline_prompt_ends_on_last_line_no_scroll_by_prompt
    term::tests::test_ps1_multiline_prompt_last_line_fills_screen_then_input
    term::tests::test_ps1_multiline_with_sgr_at_bottom_scrolls
    term::tests::test_ps1_prompt_causes_multiple_scrolls
    term::tests::test_ps1_prompt_with_internal_wrapping_and_scrolling
    term::tests::test_resize_larger
    term::tests::test_resize_smaller_content_truncation

test result: FAILED. 232 passed; 11 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.21s
